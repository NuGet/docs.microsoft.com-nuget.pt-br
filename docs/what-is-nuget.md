---
title: O que é o NuGet e o que ele faz?
description: Uma introdução abrangente sobre o que o NuGet é e o que ele faz
author: karann-msft
ms.author: karann
ms.date: 05/24/2019
ms.topic: overview
ms.openlocfilehash: e11eed5c614a7634fa578ebc84c3ab2068522fe2
ms.sourcegitcommit: 0dea3b153ef823230a9d5f38351b7cef057cb299
ms.translationtype: HT
ms.contentlocale: pt-BR
ms.lasthandoff: 07/12/2019
ms.locfileid: "67842200"
---
# <a name="an-introduction-to-nuget"></a><span data-ttu-id="a3a8e-103">Uma introdução ao NuGet</span><span class="sxs-lookup"><span data-stu-id="a3a8e-103">An introduction to NuGet</span></span>

<span data-ttu-id="a3a8e-104">Uma ferramenta essencial para qualquer plataforma de desenvolvimento moderna é um mecanismo por meio do qual os desenvolvedores podem criar, compartilhar e consumir código útil.</span><span class="sxs-lookup"><span data-stu-id="a3a8e-104">An essential tool for any modern development platform is a mechanism through which developers can create, share, and consume useful code.</span></span> <span data-ttu-id="a3a8e-105">Geralmente, esse código é fornecido em "pacotes" que contêm código compilado (como DLLs) juntamente com outro conteúdo necessário nos projetos que consomem esses pacotes.</span><span class="sxs-lookup"><span data-stu-id="a3a8e-105">Often such code is bundled into "packages" that contain compiled code (as DLLs) along with other content needed in the projects that consume these packages.</span></span>

<span data-ttu-id="a3a8e-106">Para o .NET (incluindo o .NET Core), o mecanismo com suporte da Microsoft para compartilhamento de código é o **NuGet**, que define como os pacotes do .NET são criados, hospedados e consumidos e [fornece as ferramentas](install-nuget-client-tools.md) para cada uma dessas funções.</span><span class="sxs-lookup"><span data-stu-id="a3a8e-106">For .NET (including .NET Core), the Microsoft-supported mechanism for sharing code is **NuGet**, which defines how packages for .NET are created, hosted, and consumed, and [provides the tools](install-nuget-client-tools.md) for each of those roles.</span></span>

<span data-ttu-id="a3a8e-107">Em suma, um pacote do NuGet é um arquivo ZIP com a extensão `.nupkg` que contém o código compilado (DLLs), outros arquivos relacionados a esse código e um manifesto descritivo que inclui informações como o número de versão do pacote.</span><span class="sxs-lookup"><span data-stu-id="a3a8e-107">Put simply, a NuGet package is a single ZIP file with the `.nupkg` extension that contains compiled code (DLLs), other files related to that code, and a descriptive manifest that includes information like the package's version number.</span></span> <span data-ttu-id="a3a8e-108">Os desenvolvedores com código para compartilhar criam pacotes e os publicam em um host público ou privado.</span><span class="sxs-lookup"><span data-stu-id="a3a8e-108">Developers with code to share create packages and publish them to a public or private host.</span></span> <span data-ttu-id="a3a8e-109">Os consumidores de pacote obtêm esses pacotes de hosts adequados, os adicionam aos seus projetos e chamam a funcionalidade de um pacote no código do projeto.</span><span class="sxs-lookup"><span data-stu-id="a3a8e-109">Package consumers obtain those packages from suitable hosts, add them to their projects, and then call a package's functionality in their project code.</span></span> <span data-ttu-id="a3a8e-110">Em seguida, o próprio NuGet manipula todos os detalhes de intermediários.</span><span class="sxs-lookup"><span data-stu-id="a3a8e-110">NuGet itself then handles all of the intermediate details.</span></span>

<span data-ttu-id="a3a8e-111">Como o NuGet oferece suporte a hosts privados junto com o host público nuget.org, é possível usar pacotes NuGet para compartilhar código exclusivo a uma organização ou a um grupo de trabalho.</span><span class="sxs-lookup"><span data-stu-id="a3a8e-111">Because NuGet supports private hosts alongside the public nuget.org host, you can use NuGet packages to share code that's exclusive to an organization or a work group.</span></span> <span data-ttu-id="a3a8e-112">Você também pode usar os pacotes NuGet como uma forma conveniente de levar em consideração seu próprio código para uso em nada além de seus próprios projetos.</span><span class="sxs-lookup"><span data-stu-id="a3a8e-112">You can also use NuGet packages as a convenient way to factor your own code for use in nothing but your own projects.</span></span> <span data-ttu-id="a3a8e-113">Em resumo, um pacote NuGet é uma unidade compartilhável de código, mas não exige nem implica qualquer meio específico de compartilhamento.</span><span class="sxs-lookup"><span data-stu-id="a3a8e-113">In short, a NuGet package is a shareable unit of code, but does not require nor imply any particular means of sharing.</span></span>

## <a name="the-flow-of-packages-between-creators-hosts-and-consumers"></a><span data-ttu-id="a3a8e-114">O fluxo de pacotes entre criadores, hosts e clientes</span><span class="sxs-lookup"><span data-stu-id="a3a8e-114">The flow of packages between creators, hosts, and consumers</span></span>

<span data-ttu-id="a3a8e-115">Em sua função como host público, o próprio NuGet mantém o repositório central de mais de 100.000 pacotes exclusivos em [nuget.org](https://www.nuget.org). Esses pacotes são utilizados por milhões de desenvolvedores de .NET/.NET Core diariamente.</span><span class="sxs-lookup"><span data-stu-id="a3a8e-115">In its role as a public host, NuGet itself maintains the central repository of over 100,000 unique packages at [nuget.org](https://www.nuget.org). These packages are employed by millions of .NET/.NET Core developers every day.</span></span> <span data-ttu-id="a3a8e-116">O NuGet também permite hospedar pacotes em particular na nuvem (tais como o Azure DevOps), em uma rede privada ou até mesmo apenas nos seu sistema de arquivos local.</span><span class="sxs-lookup"><span data-stu-id="a3a8e-116">NuGet also enables you to host packages privately in the cloud (such as on Azure DevOps), on a private network, or even on just your local file system.</span></span> <span data-ttu-id="a3a8e-117">Ao fazer isso, esses pacotes ficam disponíveis apenas aos desenvolvedores que têm acesso ao host, fornecendo a capacidade de tornar os pacotes disponíveis a um grupo específico de consumidores.</span><span class="sxs-lookup"><span data-stu-id="a3a8e-117">By doing so, those packages are available to only those developers that have access to the host, giving you the ability to make packages available to a specific group of consumers.</span></span> <span data-ttu-id="a3a8e-118">As opções são explicadas em [Hospedando seus próprios feeds do NuGet](hosting-packages/overview.md).</span><span class="sxs-lookup"><span data-stu-id="a3a8e-118">The options are explained on [Hosting your own NuGet feeds](hosting-packages/overview.md).</span></span> <span data-ttu-id="a3a8e-119">Por meio de opções de configuração, você também pode controlar exatamente quais hosts podem ser acessados por um determinado computador, garantindo assim que os pacotes sejam obtidos de fontes específicas, em vez de um repositório público como nuget.org.</span><span class="sxs-lookup"><span data-stu-id="a3a8e-119">Through configuration options, you can also control exactly which hosts can be accessed by any given computer, thereby ensuring that packages are obtained from specific sources rather than a public repository like nuget.org.</span></span>

<span data-ttu-id="a3a8e-120">Qualquer seja sua natureza, um host que serve como o ponto de conexão entre os *criadores* e os *consumidores* do pacote.</span><span class="sxs-lookup"><span data-stu-id="a3a8e-120">Whatever its nature, a host serves as the point of connection between package *creators* and package *consumers*.</span></span> <span data-ttu-id="a3a8e-121">Os criadores compilam pacotes do NuGet úteis e os publicam em um host.</span><span class="sxs-lookup"><span data-stu-id="a3a8e-121">Creators build useful NuGet packages and publish them to a host.</span></span> <span data-ttu-id="a3a8e-122">Os consumidores pesquisam então por pacotes úteis e compatíveis em hosts acessíveis, baixando e incluindo esses pacotes em seus projetos.</span><span class="sxs-lookup"><span data-stu-id="a3a8e-122">Consumers then search for useful and compatible packages on accessible hosts, downloading and including those packages in their projects.</span></span> <span data-ttu-id="a3a8e-123">Depois de instalado em um projeto, as APIs dos pacotes estão disponíveis para o restante do código do projeto.</span><span class="sxs-lookup"><span data-stu-id="a3a8e-123">Once installed in a project, the packages' APIs are available to the rest of the project code.</span></span>

![Relação entre os criadores de pacote, hosts de pacote e consumidores de pacote](media/nuget-roles.png)

## <a name="package-targeting-compatibility"></a><span data-ttu-id="a3a8e-125">Compatibilidade de direcionamento do pacote</span><span class="sxs-lookup"><span data-stu-id="a3a8e-125">Package targeting compatibility</span></span>

<span data-ttu-id="a3a8e-126">Um pacote “compatível” significa que ele contém os assemblies criados para pelo menos um .NET framework de destino que seja compatível com a estrutura de destino do projeto consumidor.</span><span class="sxs-lookup"><span data-stu-id="a3a8e-126">A "compatible" package means that it contains assemblies built for at least one target .NET framework that's compatible with the consuming project's target framework.</span></span> <span data-ttu-id="a3a8e-127">Os desenvolvedores podem criar pacotes específicos a uma estrutura, assim como acontece com os controles UWP, ou podem dar suporte a uma grande variedade de destinos.</span><span class="sxs-lookup"><span data-stu-id="a3a8e-127">Developers can create packages that are specific to one framework, as with UWP controls, or they can support a wider range of targets.</span></span> <span data-ttu-id="a3a8e-128">Para maximizar a compatibilidade de um pacote, os desenvolvedores direcionam para [.NET Standard](/dotnet/standard/net-standard), que todos os projetos do .NET e .NET Core podem consumir.</span><span class="sxs-lookup"><span data-stu-id="a3a8e-128">To maximize a package's compatibility, developers target [.NET Standard](/dotnet/standard/net-standard), which all .NET and .NET Core projects can consume.</span></span> <span data-ttu-id="a3a8e-129">Esse é o meio mais eficiente para criadores e consumidores, pois um único pacote (geralmente contendo um único assembly) funciona para todos os projetos de consumo.</span><span class="sxs-lookup"><span data-stu-id="a3a8e-129">This is the most efficient means for both creators and consumers, as a single package (usually containing a single assembly) works for all consuming projects.</span></span>

<span data-ttu-id="a3a8e-130">Por outro lado, os desenvolvedores de pacote que precisam de APIs fora do .NET Standard, criam assemblies separados para as estruturas de destino diferentes para as quais desejam dar suporte e incluem todos os assemblies no mesmo pacote (que é chamado de "multidirecionamento").</span><span class="sxs-lookup"><span data-stu-id="a3a8e-130">Package developers who require APIs outside of .NET Standard, on the other hand, create separate assemblies for the different target frameworks they want to support and include all of those assemblies in the same package (which is called "multi-targeting").</span></span> <span data-ttu-id="a3a8e-131">Quando um consumidor instalado um pacote como esse, o NuGet extrai apenas os assemblies que são necessárias para o projeto.</span><span class="sxs-lookup"><span data-stu-id="a3a8e-131">When a consumer installs such a package, NuGet extracts only those assemblies that are needed by the project.</span></span> <span data-ttu-id="a3a8e-132">Isso minimiza a superfície do pacote no aplicativo final e/ou assemblies produzidos pelo projeto.</span><span class="sxs-lookup"><span data-stu-id="a3a8e-132">This minimizes the package's footprint in the final application and/or assemblies produced by that project.</span></span> <span data-ttu-id="a3a8e-133">Um pacote multidirecionamento é, obviamente, mais difícil para o criador manter.</span><span class="sxs-lookup"><span data-stu-id="a3a8e-133">A multi-targeting package is, of course, more difficult for its creator to maintain.</span></span>

> [!Note]
> <span data-ttu-id="a3a8e-134">O direcionamento para o .NET Standard substitui a abordagem anterior de usar vários destinos PCL (biblioteca de classes portátil).</span><span class="sxs-lookup"><span data-stu-id="a3a8e-134">Targeting .NET Standard supersedes the previous approach of using various portable class library (PCL) targets.</span></span> <span data-ttu-id="a3a8e-135">Portanto, esta documentação se concentra na criação de pacotes para .NET Standard.</span><span class="sxs-lookup"><span data-stu-id="a3a8e-135">This documentation therefore focuses on creating packages for .NET Standard.</span></span>

## <a name="nuget-tools"></a><span data-ttu-id="a3a8e-136">Ferramentas do NuGet</span><span class="sxs-lookup"><span data-stu-id="a3a8e-136">NuGet tools</span></span>

<span data-ttu-id="a3a8e-137">Além da compatibilidade com a hospedagem, o NuGet também fornece uma variedade de ferramentas usadas por criadores e por consumidores.</span><span class="sxs-lookup"><span data-stu-id="a3a8e-137">In addition to hosting support, NuGet also provides a variety of tools used by both creators and consumers.</span></span> <span data-ttu-id="a3a8e-138">Veja [Instalar as ferramentas de cliente do NuGet](install-nuget-client-tools.md) para saber como obter ferramentas específicas.</span><span class="sxs-lookup"><span data-stu-id="a3a8e-138">See [Installing NuGet client tools](install-nuget-client-tools.md) for how to obtain specific tools.</span></span>

| <span data-ttu-id="a3a8e-139">Ferramenta</span><span class="sxs-lookup"><span data-stu-id="a3a8e-139">Tool</span></span> | <span data-ttu-id="a3a8e-140">Plataformas</span><span class="sxs-lookup"><span data-stu-id="a3a8e-140">Platforms</span></span> | <span data-ttu-id="a3a8e-141">Cenários Aplicáveis</span><span class="sxs-lookup"><span data-stu-id="a3a8e-141">Applicable Scenarios</span></span> | <span data-ttu-id="a3a8e-142">DESCRIÇÃO</span><span class="sxs-lookup"><span data-stu-id="a3a8e-142">Description</span></span> |
| --- | --- | --- | --- |
| [<span data-ttu-id="a3a8e-143">CLI do dotnet</span><span class="sxs-lookup"><span data-stu-id="a3a8e-143">dotnet CLI</span></span>](consume-packages/install-use-packages-dotnet-cli.md) | <span data-ttu-id="a3a8e-144">Todos</span><span class="sxs-lookup"><span data-stu-id="a3a8e-144">All</span></span> | <span data-ttu-id="a3a8e-145">Criação, Consumo</span><span class="sxs-lookup"><span data-stu-id="a3a8e-145">Creation, Consumption</span></span> | <span data-ttu-id="a3a8e-146">Ferramenta CLI para bibliotecas .NET Core e .NET Standard, em [projetos no estilo SDK](resources/check-project-format.md) que se destinam ao .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="a3a8e-146">CLI tool for .NET Core and .NET Standard libraries, and for [SDK-style projects](resources/check-project-format.md) projects that target .NET Framework.</span></span> <span data-ttu-id="a3a8e-147">Fornece certas funcionalidades da CLI do NuGet diretamente na cadeia de ferramentas do .NET Core.</span><span class="sxs-lookup"><span data-stu-id="a3a8e-147">Provides certain NuGet CLI capabilities directly within the .NET Core tool chain.</span></span> <span data-ttu-id="a3a8e-148">Assim como ocorre com a CLI do NuGet, a CLI do dotnet não interage com projetos do Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="a3a8e-148">As with the NuGet CLI, the dotnet CLI does not interact with Visual Studio projects.</span></span> |
| [<span data-ttu-id="a3a8e-149">CLI do nuget.exe</span><span class="sxs-lookup"><span data-stu-id="a3a8e-149">nuget.exe CLI</span></span>](consume-packages/install-use-packages-nuget-cli.md) | <span data-ttu-id="a3a8e-150">Todos</span><span class="sxs-lookup"><span data-stu-id="a3a8e-150">All</span></span> | <span data-ttu-id="a3a8e-151">Criação, Consumo</span><span class="sxs-lookup"><span data-stu-id="a3a8e-151">Creation, Consumption</span></span> | <span data-ttu-id="a3a8e-152">Ferramenta CLI para bibliotecas do .NET Framework e [projetos no estilo não SDK](resources/check-project-format.md) que se destinam a bibliotecas do .NET Standard.</span><span class="sxs-lookup"><span data-stu-id="a3a8e-152">CLI tool for .NET Framework libraries and [non-SDK-style projects](resources/check-project-format.md) that target .NET Standard libraries.</span></span> <span data-ttu-id="a3a8e-153">Fornece todos os recursos do NuGet, com alguns comandos de que aplicam especificamente aos criadores de pacote, alguns somente aos consumidores e outros a ambos.</span><span class="sxs-lookup"><span data-stu-id="a3a8e-153">Provides all NuGet capabilities, with some commands applying specifically to package creators, some applying only to consumers, and others applying to both.</span></span> <span data-ttu-id="a3a8e-154">Por exemplo, os criadores de pacote usam o comando `nuget pack` para criar um pacote de vários assemblies e arquivos relacionados, os consumidores de pacote usam `nuget install` para incluir pacotes em uma pasta do projeto e todos usam `nuget config` para definir as variáveis de configuração do NuGet.</span><span class="sxs-lookup"><span data-stu-id="a3a8e-154">For example, package creators use the `nuget pack` command to create a package from various assemblies and related files, package consumers use `nuget install` to include packages in a project folder, and everyone uses `nuget config` to set NuGet configuration variables.</span></span> <span data-ttu-id="a3a8e-155">Como uma ferramenta independente de plataforma, a CLI do NuGet não interage com projetos do Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="a3a8e-155">As a platform-agnostic tool, the NuGet CLI does not interact with Visual Studio projects.</span></span> |
| [<span data-ttu-id="a3a8e-156">Console do gerenciador de pacotes</span><span class="sxs-lookup"><span data-stu-id="a3a8e-156">Package Manager Console</span></span>](tools/package-manager-console.md) | <span data-ttu-id="a3a8e-157">Visual Studio no Windows</span><span class="sxs-lookup"><span data-stu-id="a3a8e-157">Visual Studio on Windows</span></span> | <span data-ttu-id="a3a8e-158">Consumo</span><span class="sxs-lookup"><span data-stu-id="a3a8e-158">Consumption</span></span> | <span data-ttu-id="a3a8e-159">Fornece [comandos do PowerShell](tools/Powershell-Reference.md) para instalar e gerenciar pacotes em projetos do Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="a3a8e-159">Provides [PowerShell commands](tools/Powershell-Reference.md) for installing and managing packages in Visual Studio projects.</span></span> |
| [<span data-ttu-id="a3a8e-160">Interface do usuário do Gerenciador de Pacotes</span><span class="sxs-lookup"><span data-stu-id="a3a8e-160">Package Manager UI</span></span>](tools/package-manager-ui.md) | <span data-ttu-id="a3a8e-161">Visual Studio no Windows</span><span class="sxs-lookup"><span data-stu-id="a3a8e-161">Visual Studio on Windows</span></span> | <span data-ttu-id="a3a8e-162">Consumo</span><span class="sxs-lookup"><span data-stu-id="a3a8e-162">Consumption</span></span> | <span data-ttu-id="a3a8e-163">Fornece uma IU fácil de usar para instalar e gerenciar pacotes em projetos do Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="a3a8e-163">Provides an easy-to-use UI for installing and managing packages in Visual Studio projects.</span></span> |
| [<span data-ttu-id="a3a8e-164">Gerenciar a interface do usuário do NuGet</span><span class="sxs-lookup"><span data-stu-id="a3a8e-164">Manage NuGet UI</span></span>](/visualstudio/mac/nuget-walkthrough) | <span data-ttu-id="a3a8e-165">Visual Studio para Mac</span><span class="sxs-lookup"><span data-stu-id="a3a8e-165">Visual Studio for Mac</span></span> | <span data-ttu-id="a3a8e-166">Consumo</span><span class="sxs-lookup"><span data-stu-id="a3a8e-166">Consumption</span></span> | <span data-ttu-id="a3a8e-167">Fornece uma IU fácil de usar para instalar e gerenciar pacotes em projetos do Visual Studio para Mac.</span><span class="sxs-lookup"><span data-stu-id="a3a8e-167">Provide an easy-to-use UI for installing and managing packages in Visual Studio for Mac projects.</span></span> |
| [<span data-ttu-id="a3a8e-168">MSBuild</span><span class="sxs-lookup"><span data-stu-id="a3a8e-168">MSBuild</span></span>](reference/msbuild-targets.md) | <span data-ttu-id="a3a8e-169">Windows</span><span class="sxs-lookup"><span data-stu-id="a3a8e-169">Windows</span></span> | <span data-ttu-id="a3a8e-170">Criação, Consumo</span><span class="sxs-lookup"><span data-stu-id="a3a8e-170">Creation, Consumption</span></span> | <span data-ttu-id="a3a8e-171">Fornece a capacidade de criar e restaurar os pacotes usados em um projeto diretamente por meio da cadeia de ferramentas do MSBuild.</span><span class="sxs-lookup"><span data-stu-id="a3a8e-171">Provides the ability to create packages and restore packages used in a project directly through the MSBuild tool chain.</span></span> |

<span data-ttu-id="a3a8e-172">Como você pode ver, as ferramentas do NuGet com as quais você trabalha dependem muito se você está criando ou consumindo pacotes, e a plataforma de trabalho na qual você está trabalhando.</span><span class="sxs-lookup"><span data-stu-id="a3a8e-172">As you can see, the NuGet tools you work with depend greatly on whether you're creating, consuming, or publishing packages, and the platform on which you're working.</span></span> <span data-ttu-id="a3a8e-173">Os criadores de pacotes normalmente também são consumidores, pois eles aproveitam funcionalidades que existe em outros pacotes do NuGet.</span><span class="sxs-lookup"><span data-stu-id="a3a8e-173">Package creators are typically also consumers, as they build on top of functionality that exists in other NuGet packages.</span></span> <span data-ttu-id="a3a8e-174">E, é claro, esses pacotes podem, por sua vez, depender de outros.</span><span class="sxs-lookup"><span data-stu-id="a3a8e-174">And those packages, of course, may in turn depend on still others.</span></span>

<span data-ttu-id="a3a8e-175">Para saber mais, comece com os artigos [Fluxo de trabalho de criação de pacote](create-packages/Overview-and-Workflow.md) e [Fluxo de trabalho de consumo de pacote](consume-packages/Overview-and-Workflow.md).</span><span class="sxs-lookup"><span data-stu-id="a3a8e-175">For more information, start with the [Package creation workflow](create-packages/Overview-and-Workflow.md) and [Package consumption workflow](consume-packages/Overview-and-Workflow.md) articles.</span></span>

## <a name="managing-dependencies"></a><span data-ttu-id="a3a8e-176">Gerenciamento de dependências</span><span class="sxs-lookup"><span data-stu-id="a3a8e-176">Managing dependencies</span></span>

<span data-ttu-id="a3a8e-177">A capacidade de aproveitar facilmente o trabalho de outras pessoas é um dos recursos mais poderosos de um sistema de gerenciamento de pacotes.</span><span class="sxs-lookup"><span data-stu-id="a3a8e-177">The ability to easily build on the work of others is one of most powerful features of a package management system.</span></span> <span data-ttu-id="a3a8e-178">Da mesma forma, grande parte do que o NuGet faz é gerenciar essa árvore de dependência ou “grafo” em nome de um projeto.</span><span class="sxs-lookup"><span data-stu-id="a3a8e-178">Accordingly, much of what NuGet does is managing that dependency tree or "graph" on behalf of a project.</span></span> <span data-ttu-id="a3a8e-179">Em poucas palavras, você precisa apenas se preocupar com os pacotes que você está usando diretamente em um projeto.</span><span class="sxs-lookup"><span data-stu-id="a3a8e-179">Simply said, you need only concern yourself with those packages that you're directly using in a project.</span></span> <span data-ttu-id="a3a8e-180">Se algum desses pacotes consumir outros pacotes (o que pode, por sua vez, consumir ainda mais), o NuGet cuidará de todas essas dependências de nível inferior.</span><span class="sxs-lookup"><span data-stu-id="a3a8e-180">If any of those packages themselves consume other packages (which can, in turn, consume still others), NuGet takes care of all those down-level dependencies.</span></span>

<span data-ttu-id="a3a8e-181">A imagem a seguir mostra um projeto que depende de cinco pacotes, que por sua vez dependem de muitos outros.</span><span class="sxs-lookup"><span data-stu-id="a3a8e-181">The following image shows a project that depends on five packages, which in turn depend on a number of others.</span></span>

![Um grafo de dependência NuGet de exemplo para um projeto do .NET](media/dependency-graph.png)

<span data-ttu-id="a3a8e-183">Observe que alguns pacotes aparecem várias vezes no grafo de dependência.</span><span class="sxs-lookup"><span data-stu-id="a3a8e-183">Notice that some packages appear multiple times in the dependency graph.</span></span> <span data-ttu-id="a3a8e-184">Por exemplo, há três consumidores diferentes do pacote B e cada consumidor também pode especificar uma versão diferente do pacote (não mostrado).</span><span class="sxs-lookup"><span data-stu-id="a3a8e-184">For example, there are three different consumers of package B, and each consumer might also specify a different version for that package (not shown).</span></span> <span data-ttu-id="a3a8e-185">Isso é uma ocorrência comum, especialmente para pacotes amplamente usados.</span><span class="sxs-lookup"><span data-stu-id="a3a8e-185">This is a common occurrence, especially for widely-used packages.</span></span> <span data-ttu-id="a3a8e-186">Felizmente, o NuGet faz o trabalho duro para determinar exatamente qual versão do Pacote B atende a todos os consumidores.</span><span class="sxs-lookup"><span data-stu-id="a3a8e-186">NuGet fortunately does all the hard work to determine exactly which version of package B satisfies all consumers.</span></span> <span data-ttu-id="a3a8e-187">Em seguida, o NuGet faz o mesmo para todos os outros pacotes, independente da profundidade do grafo de dependência.</span><span class="sxs-lookup"><span data-stu-id="a3a8e-187">NuGet then does the same for all other packages, no matter how deep the dependency graph.</span></span>

<span data-ttu-id="a3a8e-188">Para obter mais detalhes sobre como o NuGet executa esse serviço, consulte [Resolução de dependência](consume-packages/dependency-resolution.md).</span><span class="sxs-lookup"><span data-stu-id="a3a8e-188">For more details on how NuGet performs this service, see [Dependency resolution](consume-packages/dependency-resolution.md).</span></span>

## <a name="tracking-references-and-restoring-packages"></a><span data-ttu-id="a3a8e-189">Rastreando referências e restaurando pacotes</span><span class="sxs-lookup"><span data-stu-id="a3a8e-189">Tracking references and restoring packages</span></span>

<span data-ttu-id="a3a8e-190">Como projetos podem ser movidos facilmente entre os computadores de desenvolvedor, repositórios de controle do código-fonte, servidores de build e assim por diante, é altamente impraticável manter assemblies binários dos pacotes do NuGet diretamente associados a um projeto.</span><span class="sxs-lookup"><span data-stu-id="a3a8e-190">Because projects can easily move between developer computers, source control repositories, build servers, and so forth, it's highly impractical to keep the binary assemblies of NuGet packages directly bound to a project.</span></span> <span data-ttu-id="a3a8e-191">Isso tornaria cada cópia do projeto desnecessariamente sobrecarregada (e, assim, desperdiçaria espaço em repositórios de controle do código-fonte).</span><span class="sxs-lookup"><span data-stu-id="a3a8e-191">Doing so would make each copy of the project unnecessarily bloated (and thereby waste space in source control repositories).</span></span> <span data-ttu-id="a3a8e-192">Também dificultaria muito a atualização de binários de pacote para versões mais recentes, pois as atualizações precisariam ser aplicadas em todas as cópias do projeto.</span><span class="sxs-lookup"><span data-stu-id="a3a8e-192">It would also make it very difficult to update package binaries to newer versions as updates would have to be applied across all copies of the project.</span></span>

<span data-ttu-id="a3a8e-193">Em vez disso, o NuGet mantém uma lista de referências simples dos pacotes dos quais um projeto depende, incluindo dependências de nível superior e inferior.</span><span class="sxs-lookup"><span data-stu-id="a3a8e-193">NuGet instead maintains a simple reference list of the packages upon which a project depends, including both top-level and down-level dependencies.</span></span> <span data-ttu-id="a3a8e-194">Ou seja, sempre que você instala um pacote de algum host em um projeto, o NuGet registra o identificador de pacote e o número de versão nesta lista de referência.</span><span class="sxs-lookup"><span data-stu-id="a3a8e-194">That is, whenever you install a package from some host into a project, NuGet records the package identifier and version number in the reference list.</span></span> <span data-ttu-id="a3a8e-195">(Desinstalar um pacote, é claro, remove-o da lista.) O NuGet, em seguida, fornece um meio para restaurar todos os pacotes referenciados mediante solicitação, conforme descrito em [Restauração do pacote](consume-packages/package-restore.md).</span><span class="sxs-lookup"><span data-stu-id="a3a8e-195">(Uninstalling a package, of course, removes it from the list.) NuGet then provides a means to restore all referenced packages upon request, as described on [Package restore](consume-packages/package-restore.md).</span></span>

![Uma lista de referências de NuGet é criada na instalação do pacote e pode ser usada para restaurar os pacotes em outro lugar](media/nuget-restore.png)

<span data-ttu-id="a3a8e-197">Com apenas a lista de referência, o NuGet pode, então, reinstalar&mdash;ou seja, *restaurar*&mdash;todos os pacotes de hosts públicos e/ou privados a qualquer momento posteriormente.</span><span class="sxs-lookup"><span data-stu-id="a3a8e-197">With only the reference list, NuGet can then reinstall&mdash;that is, *restore*&mdash;all of those packages from public and/or private hosts at any later time.</span></span> <span data-ttu-id="a3a8e-198">Ao confirmar um projeto no controle do código-fonte ou compartilhá-lo de alguma outra forma, você inclui apenas a lista de referências e exclui os binários do pacote (veja [Pacotes e controle do código-fonte](consume-packages/packages-and-source-control.md).)</span><span class="sxs-lookup"><span data-stu-id="a3a8e-198">When committing a project to source control, or sharing it in some other way, you include only the reference list and exclude any package binaries (see [Packages and source control](consume-packages/packages-and-source-control.md).)</span></span>

<span data-ttu-id="a3a8e-199">O computador que recebe um projeto, como um servidor de build obtendo uma cópia do projeto como parte de um sistema de implantação automatizada, simplesmente pede ao NuGet para restaurar as dependências sempre que necessário.</span><span class="sxs-lookup"><span data-stu-id="a3a8e-199">The computer that receives a project, such as a build server obtaining a copy of the project as part of an automated deployment system, simply asks NuGet to restore dependencies whenever they're needed.</span></span> <span data-ttu-id="a3a8e-200">Sistemas de build como o Azure DevOps fornecem etapas de “restauração do NuGet” para essa finalidade exata.</span><span class="sxs-lookup"><span data-stu-id="a3a8e-200">Build systems like Azure DevOps provide "NuGet restore" steps for this exact purpose.</span></span> <span data-ttu-id="a3a8e-201">Da mesma forma, quando os desenvolvedores obtêm uma cópia de um projeto (por exemplo, ao clonar um repositório), eles podem invocar um comando como `nuget restore` (CLI do NuGet), `dotnet restore` (CLI do dotnet) ou `Install-Package` (Console do Gerenciador de Pacotes) para obter todos os pacotes necessários.</span><span class="sxs-lookup"><span data-stu-id="a3a8e-201">Similarly, when developers obtain a copy of a project (as when cloning a repository), they can invoke command like `nuget restore` (NuGet CLI), `dotnet restore` (dotnet CLI), or `Install-Package` (Package Manager Console) to obtain all the necessary packages.</span></span> <span data-ttu-id="a3a8e-202">O Visual Studio, por sua vez, restaura automaticamente os pacotes ao compilar um projeto (contanto que a restauração automática esteja ativada, conforme descrito em [Restauração de pacote](consume-packages/package-restore.md)).</span><span class="sxs-lookup"><span data-stu-id="a3a8e-202">Visual Studio, for its part, automatically restores packages when building a project (provided that automatic restore is enabled, as described on [Package restore](consume-packages/package-restore.md)).</span></span>

<span data-ttu-id="a3a8e-203">Claramente, a função primária do NuGet, no que diz respeito aos desenvolvedores, é manter essa lista de referência em nome do seu projeto e fornecer os meios para restaurar (e atualizar) com eficiência os pacotes referenciados.</span><span class="sxs-lookup"><span data-stu-id="a3a8e-203">Clearly, then, NuGet's primary role where developers are concerned is maintaining that reference list on behalf of your project and providing the means to efficiently restore (and update) those referenced packages.</span></span> <span data-ttu-id="a3a8e-204">Essa lista é mantida em um dos dois *formatos de gerenciamento de pacote*, como são chamados:</span><span class="sxs-lookup"><span data-stu-id="a3a8e-204">This list is maintained in one of two *package management formats*, as they're called:</span></span>

- <span data-ttu-id="a3a8e-205">[PackageReference](consume-packages/package-references-in-project-files.md) (ou "referências de pacote em arquivos de projeto") | *(NuGet 4.0 ou superior)* Mantém uma lista de dependências de nível superior do projeto diretamente no arquivo de projeto, portanto, nenhum arquivo separado é necessário.</span><span class="sxs-lookup"><span data-stu-id="a3a8e-205">[PackageReference](consume-packages/package-references-in-project-files.md) (or "package references in project files") | *(NuGet 4.0+)* Maintains a list of a project's top-level dependencies directly within the project file, so no separate file is needed.</span></span> <span data-ttu-id="a3a8e-206">Um arquivo associado, `obj/project.assets.json`, é gerado dinamicamente para gerenciar o grafo de dependência geral dos pacotes que um projeto usa juntamente com todas as dependências de nível inferior.</span><span class="sxs-lookup"><span data-stu-id="a3a8e-206">An associated file, `obj/project.assets.json`, is dynamically generated to manage the overall dependency graph of the packages that a project uses along with all down-level dependencies.</span></span> <span data-ttu-id="a3a8e-207">PackageReference é sempre usado por projetos do .NET Core.</span><span class="sxs-lookup"><span data-stu-id="a3a8e-207">PackageReference is always used by .NET Core projects.</span></span>

- <span data-ttu-id="a3a8e-208">[`packages.config`](reference/packages-config.md): *(NuGet 1.0 ou posterior)* Um arquivo XML que mantém uma lista plana de todas as dependências do projeto, incluindo as dependências de outros pacotes instalados.</span><span class="sxs-lookup"><span data-stu-id="a3a8e-208">[`packages.config`](reference/packages-config.md): *(NuGet 1.0+)* An XML file that maintains a flat list of all dependencies in the project, including the dependencies of other installed packages.</span></span> <span data-ttu-id="a3a8e-209">Os pacotes instalados ou restaurados são armazenados em uma pasta `packages`.</span><span class="sxs-lookup"><span data-stu-id="a3a8e-209">Installed or restored packages are stored in a `packages` folder.</span></span>

<span data-ttu-id="a3a8e-210">Qual formato de gerenciamento de pacotes é aplicado a um projeto depende do tipo de projeto e a versão disponível do NuGet (e/ou Visual Studio).</span><span class="sxs-lookup"><span data-stu-id="a3a8e-210">Which package management format is employed in any given project depends on the project type, and the available version of NuGet (and/or Visual Studio).</span></span> <span data-ttu-id="a3a8e-211">Para verificar qual formato está sendo usado, simplesmente procure por `packages.config` na raiz do projeto depois de instalar o primeiro pacote.</span><span class="sxs-lookup"><span data-stu-id="a3a8e-211">To check what format is being used, simply look for `packages.config` in the project root after installing your first package.</span></span> <span data-ttu-id="a3a8e-212">Se você não tiver esse arquivo, procure no arquivo de projeto diretamente por um elemento \<PackageReference\>.</span><span class="sxs-lookup"><span data-stu-id="a3a8e-212">If you don't have that file, look in the project file directly for a \<PackageReference\> element.</span></span>

<span data-ttu-id="a3a8e-213">Quando você tiver escolha, será recomendável usar PackageReference.</span><span class="sxs-lookup"><span data-stu-id="a3a8e-213">When you have a choice, we recommend using PackageReference.</span></span> <span data-ttu-id="a3a8e-214">`packages.config` é mantido para fins de legado e não está mais em desenvolvimento ativo.</span><span class="sxs-lookup"><span data-stu-id="a3a8e-214">`packages.config` is maintained for legacy purposes and is no longer under active development.</span></span>

> [!Tip]
> <span data-ttu-id="a3a8e-215">Vários comandos da CLI do `nuget.exe`, como `nuget install`, não adicionam o pacote automaticamente à lista de referências.</span><span class="sxs-lookup"><span data-stu-id="a3a8e-215">Various `nuget.exe` CLI commands, like `nuget install`, do not automatically add the package to the reference list.</span></span> <span data-ttu-id="a3a8e-216">A lista é atualizada durante a instalação de um pacote com o Gerenciador de Pacotes do Visual Studio (interface do usuário ou Console) e com a CLI `dotnet.exe`.</span><span class="sxs-lookup"><span data-stu-id="a3a8e-216">The list is updated when installing a package with the Visual Studio Package Manager (UI or Console), and with `dotnet.exe` CLI.</span></span>

## <a name="what-else-does-nuget-do"></a><span data-ttu-id="a3a8e-217">O que mais o NuGet faz?</span><span class="sxs-lookup"><span data-stu-id="a3a8e-217">What else does NuGet do?</span></span>

<span data-ttu-id="a3a8e-218">Até agora, você aprendeu as seguintes características do NuGet:</span><span class="sxs-lookup"><span data-stu-id="a3a8e-218">So far you've learned the following characteristics of NuGet:</span></span>

- <span data-ttu-id="a3a8e-219">O NuGet fornece o repositório central nuget.org com suporte para a hospedagem privada.</span><span class="sxs-lookup"><span data-stu-id="a3a8e-219">NuGet provides the central nuget.org repository with support for private hosting.</span></span>
- <span data-ttu-id="a3a8e-220">O NuGet fornece as ferramentas que os desenvolvedores precisam para criar, publicar e consumir pacotes.</span><span class="sxs-lookup"><span data-stu-id="a3a8e-220">NuGet provides the tools developers need for creating, publishing, and consuming packages.</span></span>
- <span data-ttu-id="a3a8e-221">Mais importante, o NuGet mantém uma lista de referência de pacotes usados em um projeto e a capacidade de restaurar e atualizar esses pacotes da lista.</span><span class="sxs-lookup"><span data-stu-id="a3a8e-221">Most importantly, NuGet maintains a reference list of packages used in a project and the ability to restore and update those packages from that list.</span></span>

<span data-ttu-id="a3a8e-222">Para fazer com que esses processos funcionem com eficiência, o NuGet realiza algumas otimizações nos bastidores.</span><span class="sxs-lookup"><span data-stu-id="a3a8e-222">To make these processes work efficiently, NuGet does some behind-the-scenes optimizations.</span></span> <span data-ttu-id="a3a8e-223">Particularmente, o NuGet gerencia um cache de pacote e uma pasta de pacotes globais para abreviar a instalação e a reinstalação.</span><span class="sxs-lookup"><span data-stu-id="a3a8e-223">Most notably, NuGet manages a package cache and a global packages folder to shortcut installation and reinstallation.</span></span> <span data-ttu-id="a3a8e-224">O cache evita o download de um pacote já instalado no computador.</span><span class="sxs-lookup"><span data-stu-id="a3a8e-224">The cache avoids downloading a package that's already been installed on the machine.</span></span> <span data-ttu-id="a3a8e-225">A pasta de pacotes globais permite que vários projetos compartilhem o mesmo pacote instalado, reduzindo, assim, a superfície geral do NuGet no computador.</span><span class="sxs-lookup"><span data-stu-id="a3a8e-225">The global packages folder allows multiple projects to share the same installed package, thereby reducing NuGet's overall footprint on the computer.</span></span> <span data-ttu-id="a3a8e-226">As pastas de cache e de pacotes globais também são muito úteis quando você restaura com frequência um grande número de pacotes, como em um servidor de build.</span><span class="sxs-lookup"><span data-stu-id="a3a8e-226">The cache and global packages folder are also very helpful when you're frequently restoring a larger number of packages, as on a build server.</span></span> <span data-ttu-id="a3a8e-227">Para obter mais detalhes sobre esses mecanismos, confira [Como gerenciar as pastas de pacotes globais e de cache](consume-packages/managing-the-global-packages-and-cache-folders.md).</span><span class="sxs-lookup"><span data-stu-id="a3a8e-227">For more details on these mechanisms, see [Managing the global packages and cache folders](consume-packages/managing-the-global-packages-and-cache-folders.md).</span></span>

<span data-ttu-id="a3a8e-228">Em um projeto individual, o NuGet gerencia o grafo de dependência geral, que inclui novamente a resolução de múltiplas referências para versões diferentes do mesmo pacote.</span><span class="sxs-lookup"><span data-stu-id="a3a8e-228">Within an individual project, NuGet manages the overall dependency graph, which again includes resolving multiple references to different versions of the same package.</span></span> <span data-ttu-id="a3a8e-229">É muito comum que um projeto adote uma dependência de um ou mais pacotes que tenham eles próprios as mesmas dependências.</span><span class="sxs-lookup"><span data-stu-id="a3a8e-229">It's quite common that a project takes a dependency on one or more packages that themselves have the same dependencies.</span></span> <span data-ttu-id="a3a8e-230">Alguns dos pacotes de utilitário mais úteis no nuget.org são utilizados por muitos outros pacotes.</span><span class="sxs-lookup"><span data-stu-id="a3a8e-230">Some of the most useful utility packages on nuget.org are employed by many other packages.</span></span> <span data-ttu-id="a3a8e-231">No grafo de dependência inteiro, dez, você poderia ter facilmente ter dez referências diferentes para diferentes versões do mesmo pacote.</span><span class="sxs-lookup"><span data-stu-id="a3a8e-231">In the entire dependency graph, then, you could easily have ten different references to different versions of the same package.</span></span> <span data-ttu-id="a3a8e-232">Para evitar trazer várias versões do pacote para o próprio aplicativo, o NuGet classifica qual versão única pode ser usada por qualquer consumidor.</span><span class="sxs-lookup"><span data-stu-id="a3a8e-232">To avoid bringing multiple versions of that package into the application itself, NuGet sorts out which single version can be used by all consumers.</span></span> <span data-ttu-id="a3a8e-233">(Para saber mais, confira [Resolução de dependência](consume-packages/dependency-resolution.md).)</span><span class="sxs-lookup"><span data-stu-id="a3a8e-233">(For more information, see [Dependency Resolution](consume-packages/dependency-resolution.md).)</span></span>

<span data-ttu-id="a3a8e-234">Além disso, o NuGet mantém todas as especificações relacionadas a como os pacotes são estruturados (incluindo [localização](create-packages/creating-localized-packages.md) e [símbolos de depuração](create-packages/symbol-packages.md)) e como eles são referenciados (incluindo [intervalos de versão](reference/package-versioning.md#version-ranges-and-wildcards) e [versões de pré-lançamento](create-packages/prerelease-packages.md)). O NuGet também oferece várias APIs para trabalhar com seus serviços por meio de programação, e fornece suporte para os desenvolvedores que escrevem modelos de projeto e extensões do Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="a3a8e-234">Beyond that, NuGet maintains all the specifications related to how packages are structured (including [localization](create-packages/creating-localized-packages.md) and [debug symbols](create-packages/symbol-packages.md)) and how they are referenced (including [version ranges](reference/package-versioning.md#version-ranges-and-wildcards) and [pre-release versions](create-packages/prerelease-packages.md).) NuGet also provides various APIs to work with its services programmatically, and provides support for developers who write Visual Studio extensions and project templates.</span></span>

<span data-ttu-id="a3a8e-235">Reserve um tempo para navegar pelo sumário desta documentação e você verá todos esses recursos representados nele, junto com as notas de versão desde o início do NuGet.</span><span class="sxs-lookup"><span data-stu-id="a3a8e-235">Take a moment to browse the table of contents for this documentation, and you see all of these capabilities represented there, along with release notes dating back to NuGet's beginnings.</span></span>

## <a name="comments-contributions-and-issues"></a><span data-ttu-id="a3a8e-236">Comentários, contribuições e problemas</span><span class="sxs-lookup"><span data-stu-id="a3a8e-236">Comments, contributions, and issues</span></span>

<span data-ttu-id="a3a8e-237">Por fim, apreciamos muito os comentários e contribuições para essa documentação&mdash;basta selecionar os comandos **Comentários** e **Editar** no tipo de qualquer página, ou visite o [repositório de documentos](https://github.com/NuGet/docs.microsoft.com-nuget/) e a [lista de problemas de documentos](https://github.com/NuGet/docs.microsoft.com-nuget/issues) no GitHub.</span><span class="sxs-lookup"><span data-stu-id="a3a8e-237">Finally, we very much welcome comments and contributions to this documentation&mdash;just select the **Feedback** and **Edit** commands on the top of any page, or visit the [docs repository](https://github.com/NuGet/docs.microsoft.com-nuget/) and [docs issue list](https://github.com/NuGet/docs.microsoft.com-nuget/issues) on GitHub.</span></span>

<span data-ttu-id="a3a8e-238">Também aceitamos contribuições para o NuGet em si por meio de seus [vários repositórios de GitHub](https://github.com/NuGet/Home); problemas do NuGet podem ser encontrados em [https://github.com/NuGet/home/issues](https://github.com/NuGet/home/issues).</span><span class="sxs-lookup"><span data-stu-id="a3a8e-238">We also welcome contributions to NuGet itself through its [various GitHub repositories](https://github.com/NuGet/Home); NuGet issues can be found on [https://github.com/NuGet/home/issues](https://github.com/NuGet/home/issues).</span></span>

<span data-ttu-id="a3a8e-239">Aproveite sua experiência com o NuGet.</span><span class="sxs-lookup"><span data-stu-id="a3a8e-239">Enjoy your NuGet experience!</span></span>
