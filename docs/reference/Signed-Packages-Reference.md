---
title: Pacotes assinados
description: Requisitos de assinatura de pacote do NuGet.
author: rido-min
ms.author: rmpablos
ms.date: 05/18/2018
ms.topic: reference
ms.reviewer: ananguar
ms.openlocfilehash: 952256a24246543ecd4c37285cd001622aa2bc46
ms.sourcegitcommit: b6810860b77b2d50aab031040b047c20a333aca3
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 06/28/2019
ms.locfileid: "67426170"
---
# <a name="signed-packages"></a><span data-ttu-id="443e5-103">Pacotes assinados</span><span class="sxs-lookup"><span data-stu-id="443e5-103">Signed packages</span></span>

<span data-ttu-id="443e5-104">*4.6.0+ do NuGet e o Visual Studio 2017 versão 15.6 e posterior*</span><span class="sxs-lookup"><span data-stu-id="443e5-104">*NuGet 4.6.0+ and Visual Studio 2017 version 15.6 and later*</span></span>

<span data-ttu-id="443e5-105">Pacotes do NuGet podem incluir uma assinatura digital que fornece proteção contra conteúdo violado.</span><span class="sxs-lookup"><span data-stu-id="443e5-105">NuGet packages can include a digital signature that provides protection against tampered content.</span></span> <span data-ttu-id="443e5-106">Essa assinatura é produzida a partir de um certificado X.509 que também adiciona provas de autenticidade à origem do pacote real.</span><span class="sxs-lookup"><span data-stu-id="443e5-106">This signature is produced from an X.509 certificate that also adds authenticity proofs to the actual origin of the package.</span></span>

<span data-ttu-id="443e5-107">Os pacotes assinados fornecem a validação de ponta a ponta mais forte.</span><span class="sxs-lookup"><span data-stu-id="443e5-107">Signed packages provide the strongest end-to-end validation.</span></span> <span data-ttu-id="443e5-108">Há dois tipos diferentes de assinaturas do NuGet:</span><span class="sxs-lookup"><span data-stu-id="443e5-108">There are two different types of NuGet signatures:</span></span>
- <span data-ttu-id="443e5-109">**Criar assinatura**.</span><span class="sxs-lookup"><span data-stu-id="443e5-109">**Author Signature**.</span></span> <span data-ttu-id="443e5-110">Uma assinatura do autor garante que o pacote não foi modificado desde que o autor assinou o pacote, não importa de que o repositório ou o que o pacote é entregue de método de transporte.</span><span class="sxs-lookup"><span data-stu-id="443e5-110">An author signature guarantees that the package has not been modified since the author signed the package, no matter from which repository or what transport method the package is delivered.</span></span> <span data-ttu-id="443e5-111">Além disso, pacotes assinados pelo autor fornecem um mecanismo de autenticação extra para o pipeline de publicação do nuget.org, porque o certificado de autenticação deve ser registrado antes do tempo.</span><span class="sxs-lookup"><span data-stu-id="443e5-111">Additionally, author-signed packages provide an extra authentication mechanism to the nuget.org publishing pipeline because the signing certificate must be registered ahead of time.</span></span> <span data-ttu-id="443e5-112">Para obter mais informações, consulte [registrar certificados](#signature-requirements-on-nugetorg).</span><span class="sxs-lookup"><span data-stu-id="443e5-112">For more information, see [Register certificates](#signature-requirements-on-nugetorg).</span></span>
- <span data-ttu-id="443e5-113">**Assinatura do repositório**.</span><span class="sxs-lookup"><span data-stu-id="443e5-113">**Repository Signature**.</span></span> <span data-ttu-id="443e5-114">Assinaturas de repositório fornecem uma garantia de integridade para **todos os** pacotes em um repositório, independentemente de estarem autor assinada ou não, mesmo que esses pacotes sejam obtidos de um local diferente do repositório original em que estavam assinado.</span><span class="sxs-lookup"><span data-stu-id="443e5-114">Repository signatures provide an integrity guarantee for **all** packages in a repository whether they are author signed or not, even if those packages are obtained from a different location than the original repository where they were signed.</span></span>   

<span data-ttu-id="443e5-115">Para obter detalhes sobre como criar um pacote assinado do autor, consulte [assinatura de pacotes](../create-packages/Sign-a-package.md) e o [comando nuget a entrada](../tools/cli-ref-sign.md).</span><span class="sxs-lookup"><span data-stu-id="443e5-115">For details on creating an author signed package, see [Signing Packages](../create-packages/Sign-a-package.md) and the [nuget sign command](../tools/cli-ref-sign.md).</span></span>

> [!Important]
> <span data-ttu-id="443e5-116">Atualmente, há suporte para a assinatura do pacote somente ao usar nuget.exe no Windows.</span><span class="sxs-lookup"><span data-stu-id="443e5-116">Package signing is currently supported only when using nuget.exe on Windows.</span></span> <span data-ttu-id="443e5-117">Verificação de pacotes assinados tem suporte atualmente somente ao usar nuget.exe ou o Visual Studio no Windows.</span><span class="sxs-lookup"><span data-stu-id="443e5-117">Verification of signed packages is currently supported only when using nuget.exe or Visual Studio on Windows.</span></span>

## <a name="certificate-requirements"></a><span data-ttu-id="443e5-118">Requisitos de certificado</span><span class="sxs-lookup"><span data-stu-id="443e5-118">Certificate requirements</span></span>

<span data-ttu-id="443e5-119">Assinatura do pacote requer um código de assinatura de certificado, que é um tipo especial de certificado é válido para o `id-kp-codeSigning` finalidade [[RFC 5280 seção 4.2.1.12](https://tools.ietf.org/html/rfc5280#section-4.2.1.12)].</span><span class="sxs-lookup"><span data-stu-id="443e5-119">Package signing requires a code signing certificate, which is a special type of certificate that is valid for the `id-kp-codeSigning` purpose [[RFC 5280 section 4.2.1.12](https://tools.ietf.org/html/rfc5280#section-4.2.1.12)].</span></span> <span data-ttu-id="443e5-120">Além disso, o certificado deve ter um público comprimento da chave RSA de 2048 bits ou superior.</span><span class="sxs-lookup"><span data-stu-id="443e5-120">Additionally, the certificate must have an RSA public key length of 2048 bits or higher.</span></span>

## <a name="timestamp-requirements"></a><span data-ttu-id="443e5-121">Requisitos de carimbo de hora</span><span class="sxs-lookup"><span data-stu-id="443e5-121">Timestamp requirements</span></span>

<span data-ttu-id="443e5-122">Pacotes assinados devem incluir um carimbo de hora RFC 3161 para garantir a validade da assinatura além do período de validade do certificado de assinatura de pacote.</span><span class="sxs-lookup"><span data-stu-id="443e5-122">Signed packages should include an RFC 3161 timestamp to ensure signature validity beyond the package signing certificate's validity period.</span></span> <span data-ttu-id="443e5-123">O certificado usado para assinar o carimbo de hora deve ser válido para o `id-kp-timeStamping` finalidade [[RFC 5280 seção 4.2.1.12](https://tools.ietf.org/html/rfc5280#section-4.2.1.12)].</span><span class="sxs-lookup"><span data-stu-id="443e5-123">The certificate used to sign the timestamp must be valid for the `id-kp-timeStamping` purpose [[RFC 5280 section 4.2.1.12](https://tools.ietf.org/html/rfc5280#section-4.2.1.12)].</span></span> <span data-ttu-id="443e5-124">Além disso, o certificado deve ter um público comprimento da chave RSA de 2048 bits ou superior.</span><span class="sxs-lookup"><span data-stu-id="443e5-124">Additionally, the certificate must have an RSA public key length of 2048 bits or higher.</span></span>

<span data-ttu-id="443e5-125">Detalhes técnicos adicionais podem ser encontrados na [especificações técnicas de assinatura de pacote](https://github.com/NuGet/Home/wiki/Package-Signatures-Technical-Details) (GitHub).</span><span class="sxs-lookup"><span data-stu-id="443e5-125">Additional technical details can be found in the [package signature technical specs](https://github.com/NuGet/Home/wiki/Package-Signatures-Technical-Details) (GitHub).</span></span>

## <a name="signature-requirements-on-nugetorg"></a><span data-ttu-id="443e5-126">Requisitos de assinatura em NuGet.org</span><span class="sxs-lookup"><span data-stu-id="443e5-126">Signature requirements on NuGet.org</span></span>

<span data-ttu-id="443e5-127">NuGet.org tem requisitos adicionais para aceitar um pacote assinado:</span><span class="sxs-lookup"><span data-stu-id="443e5-127">nuget.org has additional requirements for accepting a signed package:</span></span>

- <span data-ttu-id="443e5-128">A assinatura principal deve ser uma assinatura do autor.</span><span class="sxs-lookup"><span data-stu-id="443e5-128">The primary signature must be an author signature.</span></span>
- <span data-ttu-id="443e5-129">A assinatura principal deve ter um único carimbo de hora válido.</span><span class="sxs-lookup"><span data-stu-id="443e5-129">The primary signature must have a single valid timestamp.</span></span>
- <span data-ttu-id="443e5-130">Os certificados x. 509 para a assinatura do autor e sua assinatura do carimbo de hora:</span><span class="sxs-lookup"><span data-stu-id="443e5-130">The X.509 certificates for both the author signature and its timestamp signature:</span></span>
  - <span data-ttu-id="443e5-131">Deve ter uma chave pública do RSA de 2048 bits ou superior.</span><span class="sxs-lookup"><span data-stu-id="443e5-131">Must have an RSA public key 2048 bits or greater.</span></span>
  - <span data-ttu-id="443e5-132">Deve estar dentro do período de validade por hora UTC atual em tempo de validação de pacote em nuget.org.</span><span class="sxs-lookup"><span data-stu-id="443e5-132">Must be within its validity period per current UTC time at time of package validation on nuget.org.</span></span>
  - <span data-ttu-id="443e5-133">Devem estar vinculados a uma autoridade raiz confiável que é confiável por padrão no Windows.</span><span class="sxs-lookup"><span data-stu-id="443e5-133">Must chain to a trusted root authority that is trusted by default on Windows.</span></span> <span data-ttu-id="443e5-134">Pacotes assinados com certificados emitidos por conta própria serão rejeitados.</span><span class="sxs-lookup"><span data-stu-id="443e5-134">Packages signed with self-issued certificates are rejected.</span></span>
  - <span data-ttu-id="443e5-135">Deve ser válido para sua finalidade:</span><span class="sxs-lookup"><span data-stu-id="443e5-135">Must be valid for its purpose:</span></span> 
    - <span data-ttu-id="443e5-136">O autor do certificado de autenticação deve ser válido para assinatura de código.</span><span class="sxs-lookup"><span data-stu-id="443e5-136">The author signing certificate must be valid for code signing.</span></span>
    - <span data-ttu-id="443e5-137">O certificado de carimbo de hora deve ser válido para o carimbo de hora.</span><span class="sxs-lookup"><span data-stu-id="443e5-137">The timestamp certificate must be valid for timestamping.</span></span>
  - <span data-ttu-id="443e5-138">Não deve ser revogado a hora da assinatura.</span><span class="sxs-lookup"><span data-stu-id="443e5-138">Must not be revoked at signing time.</span></span> <span data-ttu-id="443e5-139">(Isso pode não estar knowable no momento do envio, portanto, o nuget.org periodicamente verifica novamente o status de revogação).</span><span class="sxs-lookup"><span data-stu-id="443e5-139">(This may not be knowable at submission time, so nuget.org periodically rechecks revocation status).</span></span>
  
  
## <a name="related-articles"></a><span data-ttu-id="443e5-140">Artigos relacionados</span><span class="sxs-lookup"><span data-stu-id="443e5-140">Related articles</span></span>

- [<span data-ttu-id="443e5-141">Assinando pacotes NuGet</span><span class="sxs-lookup"><span data-stu-id="443e5-141">Signing NuGet Packages</span></span>](../create-packages/Sign-a-Package.md)
- [<span data-ttu-id="443e5-142">Gerenciar limites de confiança do pacote</span><span class="sxs-lookup"><span data-stu-id="443e5-142">Manage package trust boundaries</span></span>](../consume-packages/installing-signed-packages.md)
