---
title: Pacotes assinados
description: Requisitos para a assinatura do pacote NuGet.
author: rido-min
ms.author: rmpablos
ms.date: 05/18/2018
ms.topic: reference
ms.reviewer: ananguar
ms.openlocfilehash: ac9efadc1d29bec86ca9b7821d5587e0171613aa
ms.sourcegitcommit: 323a107c345c7cb4e344a6e6d8de42c63c5188b7
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/15/2021
ms.locfileid: "98235705"
---
# <a name="signed-packages"></a><span data-ttu-id="40606-103">Pacotes assinados</span><span class="sxs-lookup"><span data-stu-id="40606-103">Signed packages</span></span>

<span data-ttu-id="40606-104">*NuGet 4.6.0 + e Visual Studio 2017 versão 15,6 e posterior*</span><span class="sxs-lookup"><span data-stu-id="40606-104">*NuGet 4.6.0+ and Visual Studio 2017 version 15.6 and later*</span></span>

<span data-ttu-id="40606-105">Os pacotes NuGet podem incluir uma assinatura digital que fornece proteção contra conteúdo adulterado.</span><span class="sxs-lookup"><span data-stu-id="40606-105">NuGet packages can include a digital signature that provides protection against tampered content.</span></span> <span data-ttu-id="40606-106">Essa assinatura é produzida de um certificado X. 509 que também adiciona provas de autenticidade à origem real do pacote.</span><span class="sxs-lookup"><span data-stu-id="40606-106">This signature is produced from an X.509 certificate that also adds authenticity proofs to the actual origin of the package.</span></span>

<span data-ttu-id="40606-107">Os pacotes assinados fornecem a validação de ponta a ponta mais forte.</span><span class="sxs-lookup"><span data-stu-id="40606-107">Signed packages provide the strongest end-to-end validation.</span></span> <span data-ttu-id="40606-108">Há dois tipos diferentes de assinaturas do NuGet:</span><span class="sxs-lookup"><span data-stu-id="40606-108">There are two different types of NuGet signatures:</span></span>
- <span data-ttu-id="40606-109">**Assinatura de autor**.</span><span class="sxs-lookup"><span data-stu-id="40606-109">**Author signature**.</span></span> <span data-ttu-id="40606-110">Uma assinatura de autor garante que o pacote não foi modificado desde que o autor assinou o pacote, independentemente de qual repositório ou qual método de transporte o pacote é entregue.</span><span class="sxs-lookup"><span data-stu-id="40606-110">An author signature guarantees that the package has not been modified since the author signed the package, no matter from which repository or what transport method the package is delivered.</span></span> <span data-ttu-id="40606-111">Além disso, os pacotes assinados por autor fornecem um mecanismo de autenticação extra para o pipeline de publicação nuget.org porque o certificado de autenticação deve ser registrado antecipadamente.</span><span class="sxs-lookup"><span data-stu-id="40606-111">Additionally, author-signed packages provide an extra authentication mechanism to the nuget.org publishing pipeline because the signing certificate must be registered ahead of time.</span></span> <span data-ttu-id="40606-112">Para obter mais informações, consulte [registrar certificados](#signature-requirements-on-nugetorg).</span><span class="sxs-lookup"><span data-stu-id="40606-112">For more information, see [Register certificates](#signature-requirements-on-nugetorg).</span></span>
- <span data-ttu-id="40606-113">**Assinatura do repositório**.</span><span class="sxs-lookup"><span data-stu-id="40606-113">**Repository signature**.</span></span> <span data-ttu-id="40606-114">As assinaturas de repositório fornecem uma garantia de integridade para **todos os** pacotes em um repositório, independentemente de serem autor ou não assinados, mesmo que esses pacotes sejam obtidos de um local diferente do repositório original em que foram assinados.</span><span class="sxs-lookup"><span data-stu-id="40606-114">Repository signatures provide an integrity guarantee for **all** packages in a repository whether they are author signed or not, even if those packages are obtained from a different location than the original repository where they were signed.</span></span>   

<span data-ttu-id="40606-115">Para obter detalhes sobre como criar um pacote assinado por autor, consulte [pacotes de assinatura](../create-packages/Sign-a-package.md) e o comando de [sinal do NuGet](../reference/cli-reference/cli-ref-sign.md).</span><span class="sxs-lookup"><span data-stu-id="40606-115">For details on creating an author signed package, see [Signing Packages](../create-packages/Sign-a-package.md) and the [nuget sign command](../reference/cli-reference/cli-ref-sign.md).</span></span> <span data-ttu-id="40606-116">Você pode verificar as assinaturas de pacotes usando os comandos [dotnet NuGet Verify](/dotnet/core/tools/dotnet-nuget-verify.md) ou [NuGet Verify](../reference/cli-reference/cli-ref-verify.md) .</span><span class="sxs-lookup"><span data-stu-id="40606-116">You can verify packages' signatures using the [dotnet nuget verify](/dotnet/core/tools/dotnet-nuget-verify.md) or [nuget verify](../reference/cli-reference/cli-ref-verify.md) commands.</span></span>

> [!Important]
> <span data-ttu-id="40606-117">Os pacotes de assinatura de autor só têm suporte do nuget.exe no Windows no momento.</span><span class="sxs-lookup"><span data-stu-id="40606-117">Author signing packages is only supported by nuget.exe on Windows at this time.</span></span> <span data-ttu-id="40606-118">No entanto, todos os pacotes carregados em nuget.org são assinados automaticamente pelo repositório.</span><span class="sxs-lookup"><span data-stu-id="40606-118">However, all packages uploaded to nuget.org are automatically repository signed.</span></span>

## <a name="certificate-requirements"></a><span data-ttu-id="40606-119">Requisitos de certificado</span><span class="sxs-lookup"><span data-stu-id="40606-119">Certificate requirements</span></span>

<span data-ttu-id="40606-120">A assinatura de pacote requer um certificado de assinatura de código, que é um tipo especial de certificado válido para a `id-kp-codeSigning` finalidade [[RFC 5280 section 4.2.1.12](https://tools.ietf.org/html/rfc5280#section-4.2.1.12)].</span><span class="sxs-lookup"><span data-stu-id="40606-120">Package signing requires a code signing certificate, which is a special type of certificate that is valid for the `id-kp-codeSigning` purpose [[RFC 5280 section 4.2.1.12](https://tools.ietf.org/html/rfc5280#section-4.2.1.12)].</span></span> <span data-ttu-id="40606-121">Além disso, o certificado deve ter um comprimento de chave pública RSA de 2048 bits ou mais.</span><span class="sxs-lookup"><span data-stu-id="40606-121">Additionally, the certificate must have an RSA public key length of 2048 bits or higher.</span></span>

## <a name="timestamp-requirements"></a><span data-ttu-id="40606-122">Requisitos de carimbo de hora</span><span class="sxs-lookup"><span data-stu-id="40606-122">Timestamp requirements</span></span>

<span data-ttu-id="40606-123">Os pacotes assinados devem incluir um carimbo de data/hora RFC 3161 para garantir a validade da assinatura além do período de validade do certificado de assinatura do pacote.</span><span class="sxs-lookup"><span data-stu-id="40606-123">Signed packages should include an RFC 3161 timestamp to ensure signature validity beyond the package signing certificate's validity period.</span></span> <span data-ttu-id="40606-124">O certificado usado para assinar o carimbo de data/hora deve ser válido para a `id-kp-timeStamping` finalidade [[RFC 5280 section 4.2.1.12](https://tools.ietf.org/html/rfc5280#section-4.2.1.12)].</span><span class="sxs-lookup"><span data-stu-id="40606-124">The certificate used to sign the timestamp must be valid for the `id-kp-timeStamping` purpose [[RFC 5280 section 4.2.1.12](https://tools.ietf.org/html/rfc5280#section-4.2.1.12)].</span></span> <span data-ttu-id="40606-125">Além disso, o certificado deve ter um comprimento de chave pública RSA de 2048 bits ou mais.</span><span class="sxs-lookup"><span data-stu-id="40606-125">Additionally, the certificate must have an RSA public key length of 2048 bits or higher.</span></span>

<span data-ttu-id="40606-126">Detalhes técnicos adicionais podem ser encontrados no GitHub ( [especificações técnicas](https://github.com/NuGet/Home/wiki/Package-Signatures-Technical-Details) ) de assinatura do pacote.</span><span class="sxs-lookup"><span data-stu-id="40606-126">Additional technical details can be found in the [package signature technical specs](https://github.com/NuGet/Home/wiki/Package-Signatures-Technical-Details) (GitHub).</span></span>

## <a name="signature-requirements-on-nugetorg"></a><span data-ttu-id="40606-127">Requisitos de assinatura no NuGet.org</span><span class="sxs-lookup"><span data-stu-id="40606-127">Signature requirements on NuGet.org</span></span>

<span data-ttu-id="40606-128">o nuget.org tem requisitos adicionais para aceitar um pacote assinado:</span><span class="sxs-lookup"><span data-stu-id="40606-128">nuget.org has additional requirements for accepting a signed package:</span></span>

- <span data-ttu-id="40606-129">A assinatura principal deve ser uma assinatura de autor.</span><span class="sxs-lookup"><span data-stu-id="40606-129">The primary signature must be an author signature.</span></span>
- <span data-ttu-id="40606-130">A assinatura principal deve ter um único carimbo de data/hora válido.</span><span class="sxs-lookup"><span data-stu-id="40606-130">The primary signature must have a single valid timestamp.</span></span>
- <span data-ttu-id="40606-131">Os certificados X. 509 para a assinatura de autor e sua assinatura de carimbo de data/hora:</span><span class="sxs-lookup"><span data-stu-id="40606-131">The X.509 certificates for both the author signature and its timestamp signature:</span></span>
  - <span data-ttu-id="40606-132">Deve ter uma chave pública RSA de 2048 bits ou superior.</span><span class="sxs-lookup"><span data-stu-id="40606-132">Must have an RSA public key 2048 bits or greater.</span></span>
  - <span data-ttu-id="40606-133">Deve estar dentro de seu período de validade por hora UTC atual no momento da validação do pacote em nuget.org.</span><span class="sxs-lookup"><span data-stu-id="40606-133">Must be within its validity period per current UTC time at time of package validation on nuget.org.</span></span>
  - <span data-ttu-id="40606-134">Deve se encadear a uma autoridade raiz confiável que é confiável por padrão no Windows.</span><span class="sxs-lookup"><span data-stu-id="40606-134">Must chain to a trusted root authority that is trusted by default on Windows.</span></span> <span data-ttu-id="40606-135">Pacotes assinados com certificados emitidos por conta própria são rejeitados.</span><span class="sxs-lookup"><span data-stu-id="40606-135">Packages signed with self-issued certificates are rejected.</span></span>
  - <span data-ttu-id="40606-136">Deve ser válido para sua finalidade:</span><span class="sxs-lookup"><span data-stu-id="40606-136">Must be valid for its purpose:</span></span> 
    - <span data-ttu-id="40606-137">O certificado de assinatura de autor deve ser válido para assinatura de código.</span><span class="sxs-lookup"><span data-stu-id="40606-137">The author signing certificate must be valid for code signing.</span></span>
    - <span data-ttu-id="40606-138">O certificado de carimbo de data/hora deve ser válido para carimbo de data/hora.</span><span class="sxs-lookup"><span data-stu-id="40606-138">The timestamp certificate must be valid for timestamping.</span></span>
  - <span data-ttu-id="40606-139">Não deve ser revogado no momento da assinatura.</span><span class="sxs-lookup"><span data-stu-id="40606-139">Must not be revoked at signing time.</span></span> <span data-ttu-id="40606-140">(Isso pode não ser knowable no momento do envio, portanto, o nuget.org periodicamente verifica novamente o status de revogação).</span><span class="sxs-lookup"><span data-stu-id="40606-140">(This may not be knowable at submission time, so nuget.org periodically rechecks revocation status).</span></span>
  
  
## <a name="related-articles"></a><span data-ttu-id="40606-141">Artigos relacionados</span><span class="sxs-lookup"><span data-stu-id="40606-141">Related articles</span></span>

- [<span data-ttu-id="40606-142">Assinando pacotes NuGet</span><span class="sxs-lookup"><span data-stu-id="40606-142">Signing NuGet Packages</span></span>](../create-packages/Sign-a-Package.md)
- [<span data-ttu-id="40606-143">Verificar pacotes assinados usando a CLI do dotnet</span><span class="sxs-lookup"><span data-stu-id="40606-143">Verify signed packages using the dotnet CLI</span></span>](/dotnet/core/tools/dotnet-nuget-verify.md)
- [<span data-ttu-id="40606-144">Verificar pacotes assinados usando o nuget.exe</span><span class="sxs-lookup"><span data-stu-id="40606-144">Verify signed packages using nuget.exe</span></span>](../reference/cli-reference/cli-ref-verify.md)
- [<span data-ttu-id="40606-145">Gerenciar os limites de confiança do pacote</span><span class="sxs-lookup"><span data-stu-id="40606-145">Manage package trust boundaries</span></span>](../consume-packages/installing-signed-packages.md)
