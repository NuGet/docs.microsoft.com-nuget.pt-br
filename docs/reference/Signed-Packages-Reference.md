---
title: Pacotes assinados
description: Requisitos para a assinatura do pacote NuGet.
author: rido-min
ms.author: rmpablos
ms.date: 05/18/2018
ms.topic: reference
ms.reviewer: ananguar
ms.openlocfilehash: 7384e8b30cb2ec5fe53ea0fe485858bc1f7b3c43
ms.sourcegitcommit: ddb52131e84dd54db199ce8331f6da18aa3feea1
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 03/16/2020
ms.locfileid: "79428677"
---
# <a name="signed-packages"></a><span data-ttu-id="16d29-103">Pacotes assinados</span><span class="sxs-lookup"><span data-stu-id="16d29-103">Signed packages</span></span>

<span data-ttu-id="16d29-104">*NuGet 4.6.0 + e Visual Studio 2017 versão 15,6 e posterior*</span><span class="sxs-lookup"><span data-stu-id="16d29-104">*NuGet 4.6.0+ and Visual Studio 2017 version 15.6 and later*</span></span>

<span data-ttu-id="16d29-105">Os pacotes NuGet podem incluir uma assinatura digital que fornece proteção contra conteúdo adulterado.</span><span class="sxs-lookup"><span data-stu-id="16d29-105">NuGet packages can include a digital signature that provides protection against tampered content.</span></span> <span data-ttu-id="16d29-106">Essa assinatura é produzida de um certificado X. 509 que também adiciona provas de autenticidade à origem real do pacote.</span><span class="sxs-lookup"><span data-stu-id="16d29-106">This signature is produced from an X.509 certificate that also adds authenticity proofs to the actual origin of the package.</span></span>

<span data-ttu-id="16d29-107">Os pacotes assinados fornecem a validação de ponta a ponta mais forte.</span><span class="sxs-lookup"><span data-stu-id="16d29-107">Signed packages provide the strongest end-to-end validation.</span></span> <span data-ttu-id="16d29-108">Há dois tipos diferentes de assinaturas do NuGet:</span><span class="sxs-lookup"><span data-stu-id="16d29-108">There are two different types of NuGet signatures:</span></span>
- <span data-ttu-id="16d29-109">**Assinatura de autor**.</span><span class="sxs-lookup"><span data-stu-id="16d29-109">**Author Signature**.</span></span> <span data-ttu-id="16d29-110">Uma assinatura de autor garante que o pacote não foi modificado desde que o autor assinou o pacote, independentemente de qual repositório ou qual método de transporte o pacote é entregue.</span><span class="sxs-lookup"><span data-stu-id="16d29-110">An author signature guarantees that the package has not been modified since the author signed the package, no matter from which repository or what transport method the package is delivered.</span></span> <span data-ttu-id="16d29-111">Além disso, os pacotes assinados por autor fornecem um mecanismo de autenticação extra para o pipeline de publicação nuget.org porque o certificado de autenticação deve ser registrado antecipadamente.</span><span class="sxs-lookup"><span data-stu-id="16d29-111">Additionally, author-signed packages provide an extra authentication mechanism to the nuget.org publishing pipeline because the signing certificate must be registered ahead of time.</span></span> <span data-ttu-id="16d29-112">Para obter mais informações, consulte [registrar certificados](#signature-requirements-on-nugetorg).</span><span class="sxs-lookup"><span data-stu-id="16d29-112">For more information, see [Register certificates](#signature-requirements-on-nugetorg).</span></span>
- <span data-ttu-id="16d29-113">**Assinatura do repositório**.</span><span class="sxs-lookup"><span data-stu-id="16d29-113">**Repository Signature**.</span></span> <span data-ttu-id="16d29-114">As assinaturas de repositório fornecem uma garantia de integridade para **todos os** pacotes em um repositório, independentemente de serem autor ou não assinados, mesmo que esses pacotes sejam obtidos de um local diferente do repositório original em que foram assinados.</span><span class="sxs-lookup"><span data-stu-id="16d29-114">Repository signatures provide an integrity guarantee for **all** packages in a repository whether they are author signed or not, even if those packages are obtained from a different location than the original repository where they were signed.</span></span>   

<span data-ttu-id="16d29-115">Para obter detalhes sobre como criar um pacote assinado por autor, consulte [pacotes de assinatura](../create-packages/Sign-a-package.md) e o comando de [sinal do NuGet](../reference/cli-reference/cli-ref-sign.md).</span><span class="sxs-lookup"><span data-stu-id="16d29-115">For details on creating an author signed package, see [Signing Packages](../create-packages/Sign-a-package.md) and the [nuget sign command](../reference/cli-reference/cli-ref-sign.md).</span></span>

> [!Important]
> <span data-ttu-id="16d29-116">No momento, há suporte para a assinatura de pacote somente ao usar NuGet. exe no Windows.</span><span class="sxs-lookup"><span data-stu-id="16d29-116">Package signing is currently supported only when using nuget.exe on Windows.</span></span> <span data-ttu-id="16d29-117">[Atualmente, há suporte para a verificação de pacotes assinados somente ao usar NuGet. exe](../reference/cli-reference/cli-ref-verify.md) ou Visual Studio no Windows.</span><span class="sxs-lookup"><span data-stu-id="16d29-117">[Verification of signed packages is currently supported only when using nuget.exe](../reference/cli-reference/cli-ref-verify.md) or Visual Studio on Windows.</span></span>

## <a name="certificate-requirements"></a><span data-ttu-id="16d29-118">Requisitos de certificado</span><span class="sxs-lookup"><span data-stu-id="16d29-118">Certificate requirements</span></span>

<span data-ttu-id="16d29-119">A assinatura de pacote requer um certificado de assinatura de código, que é um tipo especial de certificado válido para a `id-kp-codeSigning` finalidade [[RFC 5280 seção 4.2.1.12](https://tools.ietf.org/html/rfc5280#section-4.2.1.12)].</span><span class="sxs-lookup"><span data-stu-id="16d29-119">Package signing requires a code signing certificate, which is a special type of certificate that is valid for the `id-kp-codeSigning` purpose [[RFC 5280 section 4.2.1.12](https://tools.ietf.org/html/rfc5280#section-4.2.1.12)].</span></span> <span data-ttu-id="16d29-120">Além disso, o certificado deve ter um comprimento de chave pública RSA de 2048 bits ou mais.</span><span class="sxs-lookup"><span data-stu-id="16d29-120">Additionally, the certificate must have an RSA public key length of 2048 bits or higher.</span></span>

## <a name="timestamp-requirements"></a><span data-ttu-id="16d29-121">Requisitos de carimbo de hora</span><span class="sxs-lookup"><span data-stu-id="16d29-121">Timestamp requirements</span></span>

<span data-ttu-id="16d29-122">Os pacotes assinados devem incluir um carimbo de data/hora RFC 3161 para garantir a validade da assinatura além do período de validade do certificado de assinatura do pacote.</span><span class="sxs-lookup"><span data-stu-id="16d29-122">Signed packages should include an RFC 3161 timestamp to ensure signature validity beyond the package signing certificate's validity period.</span></span> <span data-ttu-id="16d29-123">O certificado usado para assinar o carimbo de data/hora deve ser válido para a `id-kp-timeStamping` finalidade [[RFC 5280 section 4.2.1.12](https://tools.ietf.org/html/rfc5280#section-4.2.1.12)].</span><span class="sxs-lookup"><span data-stu-id="16d29-123">The certificate used to sign the timestamp must be valid for the `id-kp-timeStamping` purpose [[RFC 5280 section 4.2.1.12](https://tools.ietf.org/html/rfc5280#section-4.2.1.12)].</span></span> <span data-ttu-id="16d29-124">Além disso, o certificado deve ter um comprimento de chave pública RSA de 2048 bits ou mais.</span><span class="sxs-lookup"><span data-stu-id="16d29-124">Additionally, the certificate must have an RSA public key length of 2048 bits or higher.</span></span>

<span data-ttu-id="16d29-125">Detalhes técnicos adicionais podem ser encontrados no GitHub ( [especificações técnicas](https://github.com/NuGet/Home/wiki/Package-Signatures-Technical-Details) ) de assinatura do pacote.</span><span class="sxs-lookup"><span data-stu-id="16d29-125">Additional technical details can be found in the [package signature technical specs](https://github.com/NuGet/Home/wiki/Package-Signatures-Technical-Details) (GitHub).</span></span>

## <a name="signature-requirements-on-nugetorg"></a><span data-ttu-id="16d29-126">Requisitos de assinatura no NuGet.org</span><span class="sxs-lookup"><span data-stu-id="16d29-126">Signature requirements on NuGet.org</span></span>

<span data-ttu-id="16d29-127">o nuget.org tem requisitos adicionais para aceitar um pacote assinado:</span><span class="sxs-lookup"><span data-stu-id="16d29-127">nuget.org has additional requirements for accepting a signed package:</span></span>

- <span data-ttu-id="16d29-128">A assinatura principal deve ser uma assinatura de autor.</span><span class="sxs-lookup"><span data-stu-id="16d29-128">The primary signature must be an author signature.</span></span>
- <span data-ttu-id="16d29-129">A assinatura principal deve ter um único carimbo de data/hora válido.</span><span class="sxs-lookup"><span data-stu-id="16d29-129">The primary signature must have a single valid timestamp.</span></span>
- <span data-ttu-id="16d29-130">Os certificados X. 509 para a assinatura de autor e sua assinatura de carimbo de data/hora:</span><span class="sxs-lookup"><span data-stu-id="16d29-130">The X.509 certificates for both the author signature and its timestamp signature:</span></span>
  - <span data-ttu-id="16d29-131">Deve ter uma chave pública RSA de 2048 bits ou superior.</span><span class="sxs-lookup"><span data-stu-id="16d29-131">Must have an RSA public key 2048 bits or greater.</span></span>
  - <span data-ttu-id="16d29-132">Deve estar dentro de seu período de validade por hora UTC atual no momento da validação do pacote em nuget.org.</span><span class="sxs-lookup"><span data-stu-id="16d29-132">Must be within its validity period per current UTC time at time of package validation on nuget.org.</span></span>
  - <span data-ttu-id="16d29-133">Deve se encadear a uma autoridade raiz confiável que é confiável por padrão no Windows.</span><span class="sxs-lookup"><span data-stu-id="16d29-133">Must chain to a trusted root authority that is trusted by default on Windows.</span></span> <span data-ttu-id="16d29-134">Pacotes assinados com certificados emitidos por conta própria são rejeitados.</span><span class="sxs-lookup"><span data-stu-id="16d29-134">Packages signed with self-issued certificates are rejected.</span></span>
  - <span data-ttu-id="16d29-135">Deve ser válido para sua finalidade:</span><span class="sxs-lookup"><span data-stu-id="16d29-135">Must be valid for its purpose:</span></span> 
    - <span data-ttu-id="16d29-136">O certificado de assinatura de autor deve ser válido para assinatura de código.</span><span class="sxs-lookup"><span data-stu-id="16d29-136">The author signing certificate must be valid for code signing.</span></span>
    - <span data-ttu-id="16d29-137">O certificado de carimbo de data/hora deve ser válido para carimbo de data/hora.</span><span class="sxs-lookup"><span data-stu-id="16d29-137">The timestamp certificate must be valid for timestamping.</span></span>
  - <span data-ttu-id="16d29-138">Não deve ser revogado no momento da assinatura.</span><span class="sxs-lookup"><span data-stu-id="16d29-138">Must not be revoked at signing time.</span></span> <span data-ttu-id="16d29-139">(Isso pode não ser knowable no momento do envio, portanto, o nuget.org periodicamente verifica novamente o status de revogação).</span><span class="sxs-lookup"><span data-stu-id="16d29-139">(This may not be knowable at submission time, so nuget.org periodically rechecks revocation status).</span></span>
  
  
## <a name="related-articles"></a><span data-ttu-id="16d29-140">{1&gt;{2&gt;Artigos relacionados&lt;2}&lt;1}</span><span class="sxs-lookup"><span data-stu-id="16d29-140">Related articles</span></span>

- [<span data-ttu-id="16d29-141">Assinando pacotes NuGet</span><span class="sxs-lookup"><span data-stu-id="16d29-141">Signing NuGet Packages</span></span>](../create-packages/Sign-a-Package.md)
- [<span data-ttu-id="16d29-142">Gerenciar os limites de confiança do pacote</span><span class="sxs-lookup"><span data-stu-id="16d29-142">Manage package trust boundaries</span></span>](../consume-packages/installing-signed-packages.md)
