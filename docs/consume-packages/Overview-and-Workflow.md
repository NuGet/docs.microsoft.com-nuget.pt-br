---
title: Visão geral e fluxo de trabalho do uso de pacotes do NuGet
description: Uma visão geral do processo de consumir pacotes do NuGet em um projeto, com links para outras partes específicas do processo.
author: karann-msft
ms.author: karann
ms.date: 03/22/2018
ms.topic: conceptual
ms.openlocfilehash: 0b3ecb535c07459bff517102b3cf6f4e6dc42195
ms.sourcegitcommit: efc18d484fdf0c7a8979b564dcb191c030601bb4
ms.translationtype: HT
ms.contentlocale: pt-BR
ms.lasthandoff: 07/18/2019
ms.locfileid: "68317051"
---
# <a name="package-consumption-workflow"></a><span data-ttu-id="1c8d5-103">Fluxo de trabalho de consumo do pacote</span><span class="sxs-lookup"><span data-stu-id="1c8d5-103">Package consumption workflow</span></span>

<span data-ttu-id="1c8d5-104">Entre o nuget.org e galerias de pacotes privadas que sua organização pode estabelecer, você pode encontrar dezenas de milhares de pacotes extremamente úteis para usar em seus aplicativos e serviços.</span><span class="sxs-lookup"><span data-stu-id="1c8d5-104">Between nuget.org and private package galleries that your organization might establish, you can find tens of thousands of highly useful packages to use in your apps and services.</span></span> <span data-ttu-id="1c8d5-105">Porém, independentemente da origem, consumir um pacote segue o mesmo fluxo de trabalho geral.</span><span class="sxs-lookup"><span data-stu-id="1c8d5-105">But regardless of the source, consuming a package follows the same general workflow.</span></span>

![Fluxo de ir para uma origem de pacote, localizar um pacote, instalá-lo em um projeto, adicioná-lo usando uma instrução e chamá-lo para a API de pacote](media/Overview-01-GeneralFlow.png)

<span data-ttu-id="1c8d5-107">\* _Somente Visual Studio e `dotnet.exe`. O comando `nuget install` não modifica arquivos de projeto ou o arquivo `packages.config`; as entradas precisam ser gerenciadas manualmente._</span><span class="sxs-lookup"><span data-stu-id="1c8d5-107">\* _Visual Studio and `dotnet.exe` only. The `nuget install` command does not modify project files or the `packages.config` file; entries must be managed manually._</span></span>

<span data-ttu-id="1c8d5-108">Para obter mais detalhes, confira [Como localizar e escolher pacotes](../consume-packages/finding-and-choosing-packages.md) e [O que acontece quando um pacote é instalado?](../concepts/package-installation-process.md).</span><span class="sxs-lookup"><span data-stu-id="1c8d5-108">For further details, see [Finding and Choosing Packages](../consume-packages/finding-and-choosing-packages.md) and [What happens when a package is installed?](../concepts/package-installation-process.md).</span></span>

<span data-ttu-id="1c8d5-109">O NuGet lembra da identidade e do número de versão de cada pacote instalado, gravando-os no arquivo de projeto (usando [PackageReference](../consume-packages/package-references-in-project-files.md)) ou [`packages.config`](../reference/packages-config.md), dependendo do tipo de projeto e da sua versão do NuGet.</span><span class="sxs-lookup"><span data-stu-id="1c8d5-109">NuGet remembers the identity and version number of each installed package, recording it in either the project file (using [PackageReference](../consume-packages/package-references-in-project-files.md)) or [`packages.config`](../reference/packages-config.md), depending on project type and your version of NuGet.</span></span> <span data-ttu-id="1c8d5-110">Com o NuGet 4.0 e posterior, é preferível usar PackageReference, embora isso seja configurável no Visual Studio por meio da [interface do usuário do Gerenciador de Pacotes](install-use-packages-visual-studio.md).</span><span class="sxs-lookup"><span data-stu-id="1c8d5-110">With NuGet 4.0+, PackageReference is preferred, although this is configurable in Visual Studio through the [Package Manager UI](install-use-packages-visual-studio.md).</span></span> <span data-ttu-id="1c8d5-111">Em qualquer caso, você pode examinar o arquivo apropriado a qualquer momento para ver a lista completa das dependências para o seu projeto.</span><span class="sxs-lookup"><span data-stu-id="1c8d5-111">In any case, you can look in the appropriate file at any time to see the full list of dependencies for your project.</span></span>

> [!Tip]
> <span data-ttu-id="1c8d5-112">É prudente sempre verificar a licença para cada pacote que você pretende usar no software.</span><span class="sxs-lookup"><span data-stu-id="1c8d5-112">It's prudent to always check the license for each package you intend to use in your software.</span></span> <span data-ttu-id="1c8d5-113">Em nuget.org, você encontra um link **Informações de licença** do lado direito da página de descrição de cada pacote.</span><span class="sxs-lookup"><span data-stu-id="1c8d5-113">On nuget.org, you find a **License Info** link on the right side of each package's description page.</span></span> <span data-ttu-id="1c8d5-114">Se um pacote não especificar os termos de licença, entre em contato com o proprietário do pacote diretamente usando o link **Contatar os proprietários** na página do pacote.</span><span class="sxs-lookup"><span data-stu-id="1c8d5-114">If a package does not specify license terms, contact the package owner directly using the **Contact owners** link on the package page.</span></span> <span data-ttu-id="1c8d5-115">A Microsoft não licencia nenhuma propriedade intelectual para você de provedores de pacotes de terceiros, nem é responsável pelas informações fornecidas por terceiros.</span><span class="sxs-lookup"><span data-stu-id="1c8d5-115">Microsoft does not license any intellectual property to you from third party package providers and is not responsible for information provided by third parties.</span></span>

<span data-ttu-id="1c8d5-116">Ao instalar pacotes, o NuGet normalmente verifica se o pacote já está disponível em seu cache.</span><span class="sxs-lookup"><span data-stu-id="1c8d5-116">When installing packages, NuGet typically checks if the package is already available from its cache.</span></span> <span data-ttu-id="1c8d5-117">É possível limpar manualmente esse cache da linha de comando, conforme descrito em [Como gerenciar as pastas de pacotes globais e de cache](../consume-packages/managing-the-global-packages-and-cache-folders.md).</span><span class="sxs-lookup"><span data-stu-id="1c8d5-117">You can manually clear this cache from the command line, as described on [Managing the global packages and cache folders](../consume-packages/managing-the-global-packages-and-cache-folders.md).</span></span>

<span data-ttu-id="1c8d5-118">O NuGet também garante que as estruturas de destino com suporte no pacote sejam compatíveis com o seu projeto.</span><span class="sxs-lookup"><span data-stu-id="1c8d5-118">NuGet also makes sure that the target frameworks supported by the package are compatible with your project.</span></span> <span data-ttu-id="1c8d5-119">Se o pacote não contiver assemblies compatíveis, o NuGet exibirá um erro.</span><span class="sxs-lookup"><span data-stu-id="1c8d5-119">If the package does not contain compatible assemblies, NuGet displays an error.</span></span> <span data-ttu-id="1c8d5-120">Consulte [Resolvendo erros de pacote incompatível](dependency-resolution.md#resolving-incompatible-package-errors).</span><span class="sxs-lookup"><span data-stu-id="1c8d5-120">See [Resolving incompatible package errors](dependency-resolution.md#resolving-incompatible-package-errors).</span></span>

<span data-ttu-id="1c8d5-121">Ao adicionar o código do projeto a um repositório de origem, pacotes do NuGet geralmente não são incluídos.</span><span class="sxs-lookup"><span data-stu-id="1c8d5-121">When adding project code to a source repository, you typically don't include NuGet packages.</span></span> <span data-ttu-id="1c8d5-122">Mais tarde, aqueles que clonarem o repositório ou adquirirem o projeto de outra forma, incluindo os agentes de build em sistemas como o Visual Studio Team Services, precisarão restaurar os pacotes necessários antes de executar um build:</span><span class="sxs-lookup"><span data-stu-id="1c8d5-122">Those who later clone the repository or otherwise acquire the project, including build agents on systems like Visual Studio Team Services, must restore the necessary packages prior to running a build:</span></span>

![Fluxo de restauração de pacotes do NuGet clonando um repositório e usando um comando de restauração](media/Overview-02-RestoreFlow.png)

<span data-ttu-id="1c8d5-124">[Restauração de pacote](../consume-packages/package-restore.md) usa as informações no arquivo de projeto ou `packages.config` para reinstalar todas as dependências.</span><span class="sxs-lookup"><span data-stu-id="1c8d5-124">[Package Restore](../consume-packages/package-restore.md) uses the information in the project file or `packages.config` to reinstall all dependencies.</span></span> <span data-ttu-id="1c8d5-125">Observe que há diferenças no processo envolvido, conforme descrito em [Resolução de dependências](../consume-packages/dependency-resolution.md).</span><span class="sxs-lookup"><span data-stu-id="1c8d5-125">Note that there are differences in the process involved, as described in [Dependency Resolution](../consume-packages/dependency-resolution.md).</span></span> <span data-ttu-id="1c8d5-126">Além disso, o diagrama acima não mostra um comando de restauração para o Console do Gerenciador de Pacotes porque estar no Console significa também já estar no contexto do Visual Studio, o que normalmente restaura pacotes de modo automático e fornece o comando no nível da solução, conforme mostrado.</span><span class="sxs-lookup"><span data-stu-id="1c8d5-126">Also, the diagram above does not show a restore command for the Package Manager Console because if you're with the Console you're already in the context of Visual Studio, which typically restores packages automatically and provides the solution-level command as shown.</span></span>

<span data-ttu-id="1c8d5-127">Ocasionalmente, é necessário reinstalar pacotes que já estão incluídos em um projeto, o que também pode reinstalar as dependências.</span><span class="sxs-lookup"><span data-stu-id="1c8d5-127">Occasionally it's necessary to reinstall packages that are already included in a project, which may also reinstall dependencies.</span></span> <span data-ttu-id="1c8d5-128">É fácil fazer isso usando o comando `nuget reinstall` ou o Console do Gerenciador de Pacotes do NuGet.</span><span class="sxs-lookup"><span data-stu-id="1c8d5-128">This is easy to do using the `nuget reinstall` command or the NuGet Package Manager Console.</span></span> <span data-ttu-id="1c8d5-129">Para obter detalhes, consulte [Reinstalando e atualizando pacotes](../consume-packages/reinstalling-and-updating-packages.md).</span><span class="sxs-lookup"><span data-stu-id="1c8d5-129">For details, see [Reinstalling and Updating Packages](../consume-packages/reinstalling-and-updating-packages.md).</span></span>

<span data-ttu-id="1c8d5-130">Por fim, o comportamento do NuGet é orientado por arquivos `Nuget.Config`.</span><span class="sxs-lookup"><span data-stu-id="1c8d5-130">Finally, NuGet's behavior is driven by `Nuget.Config` files.</span></span> <span data-ttu-id="1c8d5-131">Vários arquivos podem ser usados para centralizar determinadas configurações em níveis diferentes, conforme explicado em [Configurando o comportamento do NuGet](../consume-packages/configuring-nuget-behavior.md).</span><span class="sxs-lookup"><span data-stu-id="1c8d5-131">Multiple files can be used to centralize certain settings at different levels, as explained in [Configuring NuGet Behavior](../consume-packages/configuring-nuget-behavior.md).</span></span>

## <a name="ways-to-install-a-nuget-package"></a><span data-ttu-id="1c8d5-132">Maneiras de instalar um pacote NuGet</span><span class="sxs-lookup"><span data-stu-id="1c8d5-132">Ways to install a NuGet Package</span></span>

<span data-ttu-id="1c8d5-133">Os pacotes NuGet são baixados e instalados por meio de um dos métodos descritos na tabela a seguir.</span><span class="sxs-lookup"><span data-stu-id="1c8d5-133">NuGet packages are downloaded and installed using any of the methods in the following table.</span></span>

| <span data-ttu-id="1c8d5-134">Ferramenta</span><span class="sxs-lookup"><span data-stu-id="1c8d5-134">Tool</span></span> | <span data-ttu-id="1c8d5-135">DESCRIÇÃO</span><span class="sxs-lookup"><span data-stu-id="1c8d5-135">Description</span></span> |
| --- | --- |
| [<span data-ttu-id="1c8d5-136">CLI do dotnet.exe</span><span class="sxs-lookup"><span data-stu-id="1c8d5-136">dotnet.exe CLI</span></span>](install-use-packages-dotnet-cli.md) | <span data-ttu-id="1c8d5-137">(Todas as plataformas) Ferramenta CLI para bibliotecas .NET Core e .NET Standard e projetos no estilo SDK direcionados ao .NET Framework (confira o [Atributo SDK](/dotnet/core/tools/csproj#additions)).</span><span class="sxs-lookup"><span data-stu-id="1c8d5-137">(All platforms) CLI tool for .NET Core and .NET Standard libraries, and for SDK-style projects that target .NET Framework (see [SDK attribute](/dotnet/core/tools/csproj#additions)).</span></span> <span data-ttu-id="1c8d5-138">Recupera o pacote identificado por \<package_name\> e adiciona uma referência ao arquivo de projeto.</span><span class="sxs-lookup"><span data-stu-id="1c8d5-138">Retrieves the package identified by \<package_name\> and adds a reference to the project file.</span></span> <span data-ttu-id="1c8d5-139">Além disso, recupera e instala as dependências.</span><span class="sxs-lookup"><span data-stu-id="1c8d5-139">Also retrieves and installs dependencies.</span></span> |
| <span data-ttu-id="1c8d5-140">Visual Studio</span><span class="sxs-lookup"><span data-stu-id="1c8d5-140">Visual Studio</span></span> | <span data-ttu-id="1c8d5-141">(Windows e Mac) Fornece uma interface do usuário por meio da qual você pode procurar, selecionar e instalar pacotes e suas dependências em um projeto a partir de uma fonte do pacote especificado.</span><span class="sxs-lookup"><span data-stu-id="1c8d5-141">(Windows and Mac) Provides a UI through which you can browse, select, and install packages and their dependencies into a project from a specified package source.</span></span> <span data-ttu-id="1c8d5-142">Adicione referências a pacotes instalados ao arquivo de projeto.</span><span class="sxs-lookup"><span data-stu-id="1c8d5-142">Adds references to installed packages to the project file.</span></span><ul><li>[<span data-ttu-id="1c8d5-143">Instalar e gerenciar pacotes usando o Visual Studio</span><span class="sxs-lookup"><span data-stu-id="1c8d5-143">Install and manage packages using Visual Studio</span></span>](install-use-packages-visual-studio.md)</li><li>[<span data-ttu-id="1c8d5-144">Incluir um pacote NuGet ao seu projeto (Mac)</span><span class="sxs-lookup"><span data-stu-id="1c8d5-144">Including a NuGet package in your project (Mac)</span></span>](/visualstudio/mac/nuget-walkthrough)</li></ul> |
| [<span data-ttu-id="1c8d5-145">Console do Gerenciador de Pacotes (Visual Studio)</span><span class="sxs-lookup"><span data-stu-id="1c8d5-145">Package Manager Console (Visual Studio)</span></span>](install-use-packages-powershell.md) | <span data-ttu-id="1c8d5-146">(Somente Windows) Recupera e instala o pacote identificado por \<package_name\> de uma fonte selecionada em um projeto especificado na solução, depois adiciona uma referência ao arquivo de projeto.</span><span class="sxs-lookup"><span data-stu-id="1c8d5-146">(Windows only) Retrieves and installs the package identified by \<package_name\> from a selected source into a specified project in the solution, then adds a reference to the project file.</span></span> <span data-ttu-id="1c8d5-147">Além disso, recupera e instala as dependências.</span><span class="sxs-lookup"><span data-stu-id="1c8d5-147">Also retrieves and installs dependencies.</span></span> |
| [<span data-ttu-id="1c8d5-148">CLI do nuget.exe</span><span class="sxs-lookup"><span data-stu-id="1c8d5-148">nuget.exe CLI</span></span>](install-use-packages-nuget-cli.md) | <span data-ttu-id="1c8d5-149">(Todas as plataformas) Ferramenta CLI para bibliotecas .NET Framework e projetos no estilo não SDK direcionados a bibliotecas .NET Standard.</span><span class="sxs-lookup"><span data-stu-id="1c8d5-149">(All platforms) CLI tool for .NET Framework libraries and non-SDK-style projects that target .NET Standard libraries.</span></span> <span data-ttu-id="1c8d5-150">Recupera o pacote identificado por \<package_name\> e expande seu conteúdo em uma pasta no diretório atual; também pode recuperar todos os pacotes listados em um arquivo `packages.config`.</span><span class="sxs-lookup"><span data-stu-id="1c8d5-150">Retrieves the package identified by \<package_name\> and expands its contents into a folder in the current directory; can also retrieve all packages listed in a `packages.config` file.</span></span> <span data-ttu-id="1c8d5-151">Também recupera e instala dependências, mas não altera arquivos de projeto ou `packages.config`.</span><span class="sxs-lookup"><span data-stu-id="1c8d5-151">Also retrieves and installs dependencies, but makes no changes to project files or `packages.config`.</span></span> |
